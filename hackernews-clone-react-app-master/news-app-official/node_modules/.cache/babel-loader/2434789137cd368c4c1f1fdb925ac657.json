{"ast":null,"code":"import _regeneratorRuntime from\"/home/ghostexodus/Desktop/hackernews-clone-react-app-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ghostexodus/Desktop/hackernews-clone-react-app-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{BASE_API_URL}from'./constants';var getStory=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var story;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(BASE_API_URL,\"/item/\").concat(id,\".json\"));case 3:story=_context.sent;return _context.abrupt(\"return\",story);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log('Error while getting a story.');case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getStory(_x){return _ref.apply(this,arguments);};}();export var getStories=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(type){var _yield$axios$get,storyIds,stories;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"\".concat(BASE_API_URL,\"/\").concat(type,\"stories.json\"));case 3:_yield$axios$get=_context2.sent;storyIds=_yield$axios$get.data;_context2.next=7;return Promise.all(storyIds.slice(0,30).map(getStory));case 7:stories=_context2.sent;return _context2.abrupt(\"return\",stories);case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.log('Error while getting list of stories.');case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function getStories(_x2){return _ref2.apply(this,arguments);};}();","map":{"version":3,"sources":["/home/ghostexodus/Desktop/hackernews-clone-react-app-master/src/utils/apis.js"],"names":["axios","BASE_API_URL","getStory","id","get","story","console","log","getStories","type","storyIds","data","Promise","all","slice","map","stories"],"mappings":"iWAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,KAA6B,aAA7B,CAEA,GAAMC,CAAAA,QAAQ,0FAAG,iBAAOC,EAAP,kKAEOH,CAAAA,KAAK,CAACI,GAAN,WAAaH,YAAb,kBAAkCE,EAAlC,UAFP,QAEPE,KAFO,+CAGNA,KAHM,0DAKbC,OAAO,CAACC,GAAR,CAAY,8BAAZ,EALa,oEAAH,kBAARL,CAAAA,QAAQ,4CAAd,CASA,MAAO,IAAMM,CAAAA,UAAU,2FAAG,kBAAOC,IAAP,oMAEWT,CAAAA,KAAK,CAACI,GAAN,WAC5BH,YAD4B,aACZQ,IADY,iBAFX,wCAERC,QAFQ,kBAEdC,IAFc,wBAKAC,CAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,KAAT,CAAe,CAAf,CAAkB,EAAlB,EAAsBC,GAAtB,CAA0Bb,QAA1B,CAAZ,CALA,QAKhBc,OALgB,iDAMfA,OANe,+DAQtBV,OAAO,CAACC,GAAR,CAAY,sCAAZ,EARsB,uEAAH,kBAAVC,CAAAA,UAAU,8CAAhB","sourcesContent":["import axios from 'axios';\nimport { BASE_API_URL } from './constants';\n\nconst getStory = async (id) => {\n  try {\n    const story = await axios.get(`${BASE_API_URL}/item/${id}.json`);\n    return story;\n  } catch (error) {\n    console.log('Error while getting a story.');\n  }\n};\n\nexport const getStories = async (type) => {\n  try {\n    const { data: storyIds } = await axios.get(\n      `${BASE_API_URL}/${type}stories.json`\n    );\n    const stories = await Promise.all(storyIds.slice(0, 30).map(getStory));\n    return stories;\n  } catch (error) {\n    console.log('Error while getting list of stories.');\n  }\n};\n"]},"metadata":{},"sourceType":"module"}